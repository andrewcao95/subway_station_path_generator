## 北京地铁线路路径规划生成器
作者: @andrewcao95

### 项目简介
本项目基于北京地铁数据集，实现了地铁站点线路的路径规划，并将站点间隔、换乘次数生成二维矩阵excel表格。支持：
- 最优路线生成
- 站点最短路线生成
- 换乘次数最少路线生成

### 环境配置
- python3.6+
- pip3
- openpyxl
- tqdm

#### openpyxl库安装（用于Excel文件读写）
```
pip3 install openpyxl
```

#### tqdm库安装（用于监控文件生成进度）
```
pip3 install tqdm
```

### 项目使用说明
1. 在项目文件根目录运行```python3 main.py```
2. 选择并输入生成模式，目前支持[1]站点间路径 [2]汇总表格生成

#### 站点间路径模式

![](https://pic-1255729225.cos.ap-shanghai.myqcloud.com/2019/12/18/15766523157883.jpg)

#### 汇总表格生成模式
1. 等待程序运行进度，当程序运行结束会提示```./best_result.xlsx文件生成完成```
2. 在项目文件根目录查看生成的excel表格文件

![](https://pic-1255729225.cos.ap-shanghai.myqcloud.com/2019/12/18/15766526093098.jpg)


![Xnip2019-11-26_15-32-50.jpg](http://pic-1255729225.cos.ap-shanghai.myqcloud.com/2019/11/27/a1e9480c97534.jpg)

### 后续站点更新
考虑到地铁线路的站点会不断更新，本项目提供扩展功能

项目根目录下的```station_data_new.txt```为线路站点数据文件，模仿格式进行扩展即可

```
line_1 : 苹果园 古城 八角游乐园 八宝山 玉泉路 五棵松 万寿路 公主坟 军事博物馆 木樨地 南礼士路 复兴门 西单 天安门西 天安门东 王府井 东单 建国门 永安里 国贸 大望路 四惠 四惠东
line_2 : 西直门 车公庄 阜成门 复兴门 长椿街 宣武门 和平门 前门 崇文门 北京站 建国门 朝阳门 东四十条 东直门 雍和宫 安定门 鼓楼大街 积水潭
line_4_daxing : 天宫院 生物医药基地 义和庄 黄村火车站 黄村西大街 清源路 枣园 高米店南 高米店北 西红门 新宫 公益西桥 角门西 马家堡 北京南站 陶然亭 菜市口 宣武门 西单 灵境胡同 西四 平安里 新街口 西直门 动物园 国家图书馆 魏公村 人民大学 海淀黄庄 中关村 北京大学东门 圆明园 西苑 北宫门 安河桥北
```

如后续北京地铁线路出现line_2和line_10这样的环线，还需要再```main.py```中更新环线信息
```python
def updateSubway(originSubway):
    originSubway[u'西直门'][u'积水潭'] = 'line_2'
    originSubway[u'积水潭'][u'西直门'] = 'line_2'
    originSubway[u'劲松'][u'潘家园'] = 'line_10'
    originSubway[u'潘家园'][u'劲松'] = 'line_10'
    return originSubway
```
